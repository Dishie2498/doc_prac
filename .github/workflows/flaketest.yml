# name: "Flake test"

# # on:
# #   push:
# #     branches: [ master ]
# on: [push, pull_request]

# jobs:

#   flake:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout 🛎️
#         # uses: actions/checkout@v3.5.3
#         uses: actions/checkout@v2

#       - name: Set up Python 🔧
#         # uses: actions/setup-python@v4
#         uses: actions/setup-python@v2
#         with:
#           python-version: '3.8'

#       - name: Install dependencies 🔧
#         run: |
#           python -m pip install --upgrade pip
#           python -m pip install flake8
#           pip install -e .['flake']

#       - name: Test code quality 🔧
#         run: |
#           flake8
name: flake8

on: [push, pull_request]

jobs:
  flake8
    runs-on: ubuntu-latest
    name: Lint
    steps:
      - name: Check out source repository
        uses: actions/checkout@v3
      - name: Set up Python environment
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"
      - name: flake8 Lint
        uses: py-actions/flake8@v2
        with:
          ignore: "E501"
          path: "hoi"
          plugins: "flake8-bugbear==22.1.11 flake8-black"